%MACRO DLM_DUMP(DSNAME, SASLB, DEST, HOST);

  PROC SQL;
  SELECT CATS(LOWCASE(NAME)) INTO :NAME 
  SEPARATED BY ',' 
  FROM DICTIONARY.COLUMNS 
  WHERE UPCASE(LIBNAME)=UPCASE("&SASLB.") AND UPCASE(MEMNAME)=UPCASE("&DSNAME");
  QUIT;

  DATA _NULL_;
    SET &SASLB..&DSNAME;
    FILE "&DSNAME..csv" DSD DLM=",";
    IF _N_ = 1 THEN PUT "&NAME";
    PUT (_all_) (&);
  RUN;
  
  /* IMPORTANT: PAWWSORDLESS SSH KEY BRIDGE MUST BE SET UP FOR YOUR USER! */  
  x "scp &DSNAME..csv &HOST.:&DEST./"

%MEND;